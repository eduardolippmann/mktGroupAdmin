# mktGroupAdmin

This is a toy project to simulate an admin page that manage discounts for groups of buyers.

# How to build and test

1. Clone the repo
2. npm install
3. npm run build-dev
4. npm start
5. Access http://localhost:3000/

Alternatively you can run/debug the server by opening the project on VSCode and pressing F5, instead of step 4

# General

src/core/storage contains files that are used to fake a database.
The function restoreStorage regenerates the storage files using data from the defaultXXX.json files.
If you want data persistence, just comment the restoreStorage call.

# Framework explanation

There is only one server that handles all the calls. The goal was to write a full-stack application from scratch using only basic packages.

* Root folder: configuration files and this documentation
* **src/** folder: entry point main.js; folders src/core and src/web with backend and frontend codes, respectively. Due to the small size of the project I did not implement a controller level. The callbacks for the routes are defined as anonymous functions on main.js and they call the model functions directly.
* **src/core** folder: "Model" functions that interact with the storage files; "storage" folder
* **src/core/storage** folder: json files that emulates a data storage; The default files used to restore the json files
* **src/web** folder: private and public folder containing the sorce code and the deployable code, respectively
* **src/web/private** folder: frontend entry point (index); frontend router (AppRoutes.js); Components folder
* **src/web/private/components** folder: React components that represents a page have the jsx extension while other components have the js extension
* **src/web/public** folder: Output generated by webpack+babel. Basically the transpiled ReactJS code in a bundle.js file, and a HTML file with the bundle.js injected.

# MISC

* I did NOT implement all data validations
* Start date and end date must be a valid JS Date constructor parameter (like 2020-11-06)
* There is no component to hold the current subscribers of a campaign. If you want to check them you have to open the browser console and trigger a 'mouse over' event on the number of subscribers
* When you finalize a campaign the output is printed on the backend standard output (probably a terminal). It contains information regarding the final discount and the subscribers
